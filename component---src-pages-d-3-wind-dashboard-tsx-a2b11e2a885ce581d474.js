(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{o3Sb:function(t,e,a){"use strict";a.r(e);var n=a("q1tI"),r=a.n(n),l=a("yE/o"),i=a("AKWm"),d=a("TCOF"),o=a("Xt/6"),c=a("LDjW"),s=a("s8O9"),u=a("dCyY"),p=a("lgMH"),m=a("sUwa"),f=a("oVo9"),b=a("wz8V"),v=a("R0i0"),g=a("VIqg"),x=a("+ugm"),y=a("qE0H"),_=a("iBRH"),j=a("VlI8"),O=a("X/k/"),h=a("Cove");e.default=function(t){var e,a=t.mergedWeatherData,w="graph-canvas-wind",E=Object(n.useState)(),k=E[0],A=E[1],H={id:w},W=Object(h.a)(H),z=W[0];W[1],Object(n.useEffect)((function(){Object(i.a)(".graph-wind").selectAll("*").remove();var t=B();t&&A(t)}),[a,z]),Object(n.useEffect)((function(){D()}),[k]);var B=function(){var t=window.document.getElementById(w);if(t&&a){var e,n,r=null!==(e=null==t?void 0:t.clientWidth)&&void 0!==e?e:0,l=null!==(n=null==t?void 0:t.clientHeight)&&void 0!==n?n:0,d=Object(i.a)(".graph-wind").append("svg").attr("height",l).attr("width",r);return{x:r-(O.a.left+O.a.right),y:l-(O.a.top+O.a.bottom),node:d.append("g").attr("transform","translate("+O.a.left+","+O.a.top+")")}}},D=function(){if(a&&k){var t,e,n=a,r=n.map((function(t){var e;return null!==(e=t.datetime)&&void 0!==e?e:void 0})).filter(j.b),l=Object(b.a)(r),h=Object(v.a)().range([0,k.x-30]).domain(l),w=n.map((function(t){return t.wind_speed_at_10m_above_ground_level})).filter(j.b),E=Object(b.a)(w),A=E[0],H=E[1],W=Object(g.a)().range([null!==(t=null==k?void 0:k.y)&&void 0!==t?t:0,0]).domain([A,H]),z=Object(g.a)().range([null!==(e=null==k?void 0:k.y)&&void 0!==e?e:0,0]).domain([0,360]),B=Object(x.a)().curve(y.a).x((function(t){return h(t[0])})).y((function(t){W(t[1]);return W(t[1])})),D=(k.node.append("g"),a.filter((function(t){return t.wind_speed_at_10m_above_ground_level})).map((function(t){return[t.datetime,t.wind_speed_at_10m_above_ground_level]})));null==k||k.node.append("g").selectAll("dot").data(a.filter((function(t){return t.wind_from_direction_at_10m_above_ground_level}))).enter().append("circle").attr("cx",(function(t){return h(t.datetime)})).attr("cy",(function(t){return z(t.wind_from_direction_at_10m_above_ground_level)})).attr("r",1.5).style("fill","red"),k.node.append("g").selectAll(".location").data([D]).enter().append("g").attr("class","location").append("path").attr("class","line").attr("d",(function(t){var e=B(t);return console.log(e),e})).style("stroke",(function(t){return"darkBlue"})).attr("fill","none"),null==k||k.node.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+k.y+")").call(Object(_.a)(h).tickFormat((function(t){var e,a=Object(d.a)(".%L"),n=Object(d.a)(":%S"),r=Object(d.a)("%H:%M"),l=Object(d.a)("%H:00"),i=Object(d.a)("%a %d"),b=Object(d.a)("%b %d"),v=Object(d.a)("%B"),g=Object(d.a)("%Y");return e=t,(Object(o.a)(e)<e?a:Object(c.a)(e)<e?n:Object(s.a)(e)<e?r:Object(u.a)(e)<e?l:Object(p.a)(e)<e?Object(m.b)(e)<e?i:b:Object(f.a)(e)<e?v:g)(e)}))),k.node.append("g").attr("transform","translate("+(k.x-30)+", 0)").attr("class","axisRed").call(Object(_.c)(z)).append("text").attr("transform","rotate(-90) translate("+-k.y/2+", 30\n            )").attr("class","label").attr("text-anchor","middle").style("font-weight","normal").style("font-size","12px").attr("y",6).attr("dy",".35em").attr("fill","red").text("Direction"),k.node.append("g").attr("class","axis y-axis").attr("class","axisBlue").call(Object(_.b)(W).ticks(Math.min(Math.round(Math.floor(k.y/35)+1),H),".0f")).append("text").attr("transform","rotate(-90) translate("+-k.y/2+", "+.8*-O.a.left+")").attr("class","label").attr("text-anchor","middle").style("font-weight","normal").style("font-size","12px").attr("y",6).attr("dy",".35em").attr("fill","#666").text("Wind Speed"),k.node.selectAll(".y-axis g text").attr("fill","#666"),k.node.selectAll(".y-axis g line").attr("stroke","#666");var M=Object(i.a)("#my_dataviz-wind");M.append("circle").attr("cx",10).attr("cy",10).attr("r",6).style("fill","red"),M.append("text").attr("x",20).attr("y",10).text("Wind Direction").style("font-size","15px").attr("alignment-baseline","middle"),M.append("circle").attr("cx",150).attr("cy",10).attr("r",6).style("fill","darkBlue"),M.append("text").attr("x",170).attr("y",10).text("Wind Speed").style("font-size","15px").attr("alignment-baseline","middle")}};return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header",style:{minHeight:"70px"}},r.a.createElement("h3",{className:"text-muted"},"Wind Dashboard"),r.a.createElement("svg",{id:"my_dataviz-wind",height:"30",width:null!==(e=null==k?void 0:k.x)&&void 0!==e?e:405})),r.a.createElement("div",{style:{textAlign:"center",borderBottom:"1px solid #e5e5e5",padding:"0",minHeight:"300px"},className:"jumbotron "+".graph-wind".replace(".",""),id:w})))}}}]);
//# sourceMappingURL=component---src-pages-d-3-wind-dashboard-tsx-a2b11e2a885ce581d474.js.map