(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{o3Sb:function(t,e,a){"use strict";a.r(e);var n=a("q1tI"),r=a.n(n),l=a("yE/o"),i=a("AKWm"),d=a("TCOF"),c=a("Xt/6"),o=a("LDjW"),s=a("s8O9"),u=a("dCyY"),p=a("lgMH"),m=a("sUwa"),b=a("oVo9"),f=a("wz8V"),g=a("R0i0"),v=a("VIqg"),x=a("+ugm"),y=a("qE0H"),j=a("iBRH"),O=a("VlI8"),_=a("X/k/"),h=a("u9RR");e.default=function(t){var e=t.mergedWeatherData,a="graph-canvas-wind",w=Object(n.useState)(),E=w[0],H=w[1],k={id:a},z=Object(h.useDetectElementResize)(k),A=z[0];z[1],Object(n.useEffect)((function(){Object(i.a)(".graph-wind").selectAll("*").remove();var t=W();t&&H(t)}),[e,A]),Object(n.useEffect)((function(){B()}),[E]);var W=function(){var t=window.document.getElementById(a);if(t&&e){var n,r,l=null!==(n=null==t?void 0:t.clientWidth)&&void 0!==n?n:0,d=null!==(r=null==t?void 0:t.clientHeight)&&void 0!==r?r:0,c=Object(i.a)(".graph-wind").append("svg").attr("height",d).attr("width",l);return{x:l-(_.a.left+_.a.right),y:d-(_.a.top+_.a.bottom),node:c.append("g").attr("transform","translate("+_.a.left+","+_.a.top+")")}}},B=function(){Object(d.b)("%Y-%m-%dT%H:%M"),Object(d.a)("%Y-%m-%dT%H:%M");if(e&&E){var t,a,n=e,r=n.map((function(t){var e;return null!==(e=t.datetime)&&void 0!==e?e:void 0})).filter(O.b),l=Object(f.a)(r),h=Object(g.a)().range([0,E.x]).domain(l),w=n.map((function(t){return t.wind_speed_at_10m_above_ground_level})).filter(O.b),H=Object(f.a)(w),k=H[0],z=H[1],A=Object(v.a)().range([null!==(t=null==E?void 0:E.y)&&void 0!==t?t:0,0]).domain([k,z]),W=Object(v.a)().range([null!==(a=null==E?void 0:E.y)&&void 0!==a?a:0,0]).domain([0,360]),B=Object(x.a)().curve(y.a).x((function(t){return h(t[0])})).y((function(t){A(t[1]);return A(t[1])})),M=(E.node.append("g"),e.filter((function(t){return t.wind_speed_at_10m_above_ground_level})).map((function(t){return[t.datetime,t.wind_speed_at_10m_above_ground_level]})));null==E||E.node.append("g").selectAll("dot").data(e.filter((function(t){return t.wind_from_direction_at_10m_above_ground_level}))).enter().append("circle").attr("cx",(function(t){return h(t.datetime)})).attr("cy",(function(t){return W(t.wind_from_direction_at_10m_above_ground_level)})).attr("r",1.5).style("fill","red"),E.node.append("g").selectAll(".location").data([M]).enter().append("g").attr("class","location").append("path").attr("class","line").attr("d",(function(t){var e=B(t);return console.log(e),e})).style("stroke",(function(t){return"darkBlue"})).attr("fill","none"),null==E||E.node.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+E.y+")").call(Object(j.a)(h).tickFormat((function(t){var e,a=Object(d.a)(".%L"),n=Object(d.a)(":%S"),r=Object(d.a)("%H:%M"),l=Object(d.a)("%H:00"),i=Object(d.a)("%a %d"),f=Object(d.a)("%b %d"),g=Object(d.a)("%B"),v=Object(d.a)("%Y");return e=t,(Object(c.a)(e)<e?a:Object(o.a)(e)<e?n:Object(s.a)(e)<e?r:Object(u.a)(e)<e?l:Object(p.a)(e)<e?Object(m.b)(e)<e?i:f:Object(b.a)(e)<e?g:v)(e)}))),E.node.append("g").attr("transform","translate(475, 0)").attr("class","axisRed").call(Object(j.b)(W)).append("text").attr("transform","rotate(-90) translate("+-E.y/2+", "+.8*-_.a.left+")").attr("class","label").attr("text-anchor","middle").style("font-weight","normal").style("font-size","12px").attr("y",6).attr("dy",".35em").attr("fill","red").text("Direction"),E.node.append("g").attr("class","axis y-axis").attr("class","axisBlue").call(Object(j.b)(A).ticks(Math.min(Math.round(Math.floor(E.y/35)+1),z),".0f")).append("text").attr("transform","rotate(-90) translate("+-E.y/2+", "+.8*-_.a.left+")").attr("class","label").attr("text-anchor","middle").style("font-weight","normal").style("font-size","12px").attr("y",6).attr("dy",".35em").attr("fill","#666").text("Wind Speed"),E.node.selectAll(".y-axis g text").attr("fill","#666"),E.node.selectAll(".y-axis g line").attr("stroke","#666");var D=Object(i.a)("#my_dataviz-wind");D.append("circle").attr("cx",10).attr("cy",10).attr("r",6).style("fill","red"),D.append("text").attr("x",20).attr("y",10).text("Wind Direction").style("font-size","15px").attr("alignment-baseline","middle"),D.append("circle").attr("cx",150).attr("cy",10).attr("r",6).style("fill","darkBlue"),D.append("text").attr("x",170).attr("y",10).text("Wind Speed").style("font-size","15px").attr("alignment-baseline","middle")}};return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header",style:{minHeight:"70px"}},r.a.createElement("h3",{className:"text-muted"},"Wind Dashboard"),r.a.createElement("svg",{id:"my_dataviz-wind",height:"30",width:"450"})),r.a.createElement("div",{style:{textAlign:"center",borderBottom:"1px solid #e5e5e5",padding:"0",minHeight:"300px"},className:"jumbotron "+".graph-wind".replace(".",""),id:a})))}}}]);
//# sourceMappingURL=component---src-pages-d-3-wind-dashboard-tsx-22444ec64b09b68dc703.js.map